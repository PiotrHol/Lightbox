(()=>{"use strict";(()=>{for(var t="lightbox-hidden",e="lightbox-viewer-modal",c="lightbox-viewer",n="lightbox-viewer-image",a="lightbox-loader",o="lightbox-caption",s="lightbox-counter",i="lightbox-left-arrow",r="lightbox-right-arrow",l="lightbox-closer",d="lightbox-stop-scroll",h=function(){function h(t){var a=this;this.closeLightboxHandler=function(){var t=document.querySelector(".".concat(e,"-js .").concat(l,"-js"));if(t){var o=t.parentElement,i=null==o?void 0:o.querySelector(".".concat(c,"-js")),r=null==o?void 0:o.querySelector(".".concat(s,"-js")),h=null==i?void 0:i.querySelector(".".concat(n,"-js"));t.classList.add("".concat(l,"-hide")),null==i||i.classList.add("".concat(c,"-hide")),h&&(h.style.opacity="0"),r&&!r.classList.contains("".concat(s,"-hide"))&&r.classList.add("".concat(s,"-hide")),document.removeEventListener("keydown",a.keyEventHandler);var u=setTimeout((function(){var t;null===(t=null==o?void 0:o.parentElement)||void 0===t||t.removeChild(o),document.body.classList.remove(d),clearTimeout(u)}),700)}},this.keyEventHandler=function(t){"ArrowLeft"===t.key?a.changeCurrentImage("prev"):"ArrowRight"===t.key?a.changeCurrentImage("next"):"Escape"===t.key&&a.closeLightboxHandler()},this.touchStartEventHandler=function(t){a.touchCoordinatesX=t.changedTouches[0].clientX},this.touchEndEventHandler=function(t){var e=t.changedTouches[0].clientX;e>a.touchCoordinatesX+30?a.changeCurrentImage("prev"):e+30<a.touchCoordinatesX&&a.changeCurrentImage("next")},this.gallerySelector=t,this.isInit=!1,this.galleryImages=Array.from(this.gallerySelector.querySelectorAll(".".concat("lightbox-image"))),this.currentImage=0,this.touchCoordinatesX=0}return h.prototype.init=function(){var t=this;if(!this.isInit){this.isInit=!0;for(var e=0;e<this.galleryImages.length;e++)this.galleryImages[e].addEventListener("click",(function(e){var c=e.currentTarget;t.currentImage=t.galleryImages.indexOf(c),t.addLightboxTemplate(),t.reload(!0)}))}},h.prototype.reload=function(l){var d,h;void 0===l&&(l=!1);var u=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(n,"-js")),m=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(a,"-js")),v=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(o,"-js")),g=this.galleryImages[this.currentImage];if(u&&g.dataset&&g.dataset.src){var y=u.width,L=u.height;u.style.width="auto",u.style.height="auto",u.classList.remove("".concat(n,"--show")),m.classList.remove(t);var p,j,f=!1;v.classList.contains("".concat(o,"--show"))&&(f=!0,v.classList.remove("".concat(o,"--show"))),v.innerText="",u.style.opacity="0",u.src=g.dataset.src;var w=u.complete;w&&(p=null===(d=u.parentElement)||void 0===d?void 0:d.offsetWidth,j=null===(h=u.parentElement)||void 0===h?void 0:h.offsetHeight,l||(u.style.width="".concat(y,"px"),u.style.height="".concat(L,"px"))),u.onload=function(){var e,c;w||(p=null===(e=u.parentElement)||void 0===e?void 0:e.offsetWidth,j=null===(c=u.parentElement)||void 0===c?void 0:c.offsetHeight,l||(u.style.width="".concat(y,"px"),u.style.height="".concat(L,"px")));var a=setTimeout((function(){u.style.width="".concat(p,"px"),u.style.height="".concat(j,"px"),clearTimeout(a)}),100),s=setTimeout((function(){g.dataset.caption?(v.innerText=g.dataset.caption.length>100?g.dataset.caption.slice(0,99)+"...":g.dataset.caption,f&&v.classList.add("".concat(o,"--show"))):v.classList.contains("".concat(o,"--show"))&&v.classList.remove("".concat(o,"--show")),m.classList.add(t),u.classList.add("".concat(n,"--show")),u.style.opacity="1",u.style.width="auto",u.style.height="auto",clearTimeout(s)}),500)}}else u.src="",v.innerText="";u&&g.dataset&&g.dataset.src&&g.dataset.alt?u.alt=g.dataset.alt:u.alt="";var E=document.querySelector(".".concat(e,"-js .").concat(s,"-js"));E&&(E.innerText="".concat(this.currentImage+1," / ").concat(this.galleryImages.length));var x=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(i,"-js"));x&&0==this.currentImage&&!x.classList.contains(t)?x.classList.add(t):x&&x.classList.contains(t)&&x.classList.remove(t);var I=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(r,"-js"));I&&this.currentImage==this.galleryImages.length-1&&!I.classList.contains(t)?I.classList.add(t):I&&I.classList.contains(t)&&I.classList.remove(t)},h.prototype.addLightboxTemplate=function(){var t=this,h=document.createElement("div");h.classList.add(e,"".concat(e,"-js"),"".concat(e,"-hide"));var u=document.createElement("div");u.classList.add(l,"".concat(l,"-js"),"".concat(l,"-hide")),h.appendChild(u);var m=document.createElement("div");m.classList.add(c,"".concat(c,"-js"),"".concat(c,"-hide"));var v=document.createElement("div");v.classList.add(a,"".concat(a,"-js")),m.appendChild(v);var g=document.createElement("img");if(g.classList.add(n,"".concat(n,"-js")),g.src="",g.alt="",m.appendChild(g),this.galleryImages.length>1){var y=document.createElement("div");y.classList.add(s,"".concat(s,"-js"),"".concat(s,"-hide")),h.appendChild(y);var L=document.createElement("div");L.classList.add(i,"".concat(i,"-js")),m.appendChild(L);var p=document.createElement("div");p.classList.add(r,"".concat(r,"-js")),m.appendChild(p)}var j=document.createElement("div");j.classList.add(o,"".concat(o,"-js")),m.appendChild(j),h.appendChild(m),document.body.classList.add(d),document.body.appendChild(h);var f=setTimeout((function(){var t=document.querySelector(".".concat(e,"-js.").concat(e,"-hide"));null==t||t.classList.remove("".concat(e,"-hide")),clearTimeout(f)}),100),w=setTimeout((function(){var t=document.querySelector(".".concat(e,"-js .").concat(c,"-js.").concat(c,"-hide")),n=document.querySelector(".".concat(e,"-js .").concat(l,"-js.").concat(l,"-hide")),a=document.querySelector(".".concat(e,"-js .").concat(s,"-js.").concat(s,"-hide"));null==t||t.classList.remove("".concat(c,"-hide")),null==n||n.classList.remove("".concat(l,"-hide")),null==a||a.classList.remove("".concat(s,"-hide")),clearTimeout(w)}),300),E=document.querySelector(".".concat(e,"-js .").concat(l,"-js"));E&&E.addEventListener("click",(function(){t.closeLightboxHandler()}));var x=document.querySelector(".".concat(e,"-js"));x&&x.addEventListener("click",(function(e){e.currentTarget==e.target&&t.closeLightboxHandler()}));var I=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(i,"-js"));I&&I.addEventListener("click",(function(){window.innerWidth>768&&t.changeCurrentImage("prev")}));var S=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(r,"-js"));S&&S.addEventListener("click",(function(){window.innerWidth>768&&t.changeCurrentImage("next")})),document.addEventListener("keydown",this.keyEventHandler);var T=document.querySelector(".".concat(e,"-js .").concat(c,"-js"));T.addEventListener("touchstart",this.touchStartEventHandler),T.addEventListener("touchend",this.touchEndEventHandler);var q=document.querySelector(".".concat(e,"-js .").concat(c,"-js .").concat(n,"-js"));q.addEventListener("click",(function(t){var e;if(t.currentTarget==t.target&&window.innerWidth<769){var c=null===(e=t.currentTarget.parentElement)||void 0===e?void 0:e.querySelector(".".concat(o,"-js"));c&&c.innerText&&(c.classList.contains("".concat(o,"--show"))?c.classList.remove("".concat(o,"--show")):c.classList.add("".concat(o,"--show")))}})),q.addEventListener("mousemove",(function(t){var e,c=null===(e=t.currentTarget.parentElement)||void 0===e?void 0:e.querySelector(".".concat(o,"-js"));window.innerWidth>768&&c&&c.innerText&&!c.classList.contains("".concat(o,"--show"))&&c.classList.add("".concat(o,"--show"))})),q.addEventListener("mouseleave",(function(t){var e,c=null===(e=t.currentTarget.parentElement)||void 0===e?void 0:e.querySelector(".".concat(o,"-js"));window.innerWidth>768&&c&&c.classList.contains("".concat(o,"--show"))&&c.classList.remove("".concat(o,"--show"))}))},h.prototype.changeCurrentImage=function(t){"prev"===t&&this.currentImage>0?(this.currentImage=this.currentImage-1,this.reload()):"next"===t&&this.currentImage<this.galleryImages.length-1&&(this.currentImage=this.currentImage+1,this.reload())},h}(),u=document.querySelectorAll(".".concat("lightbox-container")),m=[],v=0;v<u.length;v++)m.push(new h(u[v])),m[m.length-1].init()})()})();