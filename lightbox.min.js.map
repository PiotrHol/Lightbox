{"version":3,"file":"lightbox.min.js","mappings":"yBAgdA,IAhdA,IAAMA,EAAsB,kBAGtBC,EAAqB,wBACrBC,EAAsB,kBACtBC,EAA2B,wBAC3BC,EAAsB,kBACtBC,EAAuB,mBACvBC,EAAuB,mBACvBC,EAAyB,sBACzBC,EAA0B,uBAC1BC,EAAsB,kBACtBC,EAA0B,uBAahC,aAOE,WAAYC,GAAZ,WA8WA,KAAAC,qBAAuB,WACrB,IAAMC,EAAwBC,SAASC,cACrC,WAAId,EAAkB,gBAAQQ,EAAmB,QAEnD,GAAII,EAAuB,CACzB,IAAM,EAAuBA,EAAsBG,cAC7CC,EAAwB,aAAoB,EAApB,EAAsBF,cAClD,WAAIb,EAAmB,QAEnBgB,EAAyB,aAAoB,EAApB,EAAsBH,cACnD,WAAIT,EAAoB,QAEpBa,EAAuBF,aAAqB,EAArBA,EAAuBF,cAClD,WAAIZ,EAAwB,QAE9BU,EAAsBO,UAAUC,IAAI,UAAGZ,EAAmB,UAC1DQ,SAAAA,EAAuBG,UAAUC,IAAI,UAAGnB,EAAmB,UACvDiB,IACFA,EAAqBG,MAAMC,QAAU,KAGrCL,IACCA,EAAuBE,UAAUI,SAChC,UAAGlB,EAAoB,WAGzBY,EAAuBE,UAAUC,IAAI,UAAGf,EAAoB,UAE9DQ,SAASW,oBAAoB,UAAW,EAAKC,iBAC7C,IAAM,EAAkBC,YAAW,W,MACE,QAAnC,eAAoB,EAApB,EAAsBX,qBAAa,SAAEY,YAAY,GACjDd,SAASe,KAAKT,UAAUU,OAAOpB,GAC/BqB,aAAa,EACf,GAAG,IACL,CACF,EAEA,KAAAL,gBAAkB,SAACM,GACC,cAAdA,EAAMC,IACR,EAAKC,mBAAmB,QACD,eAAdF,EAAMC,IACf,EAAKC,mBAAmB,QACD,WAAdF,EAAMC,KACf,EAAKrB,sBAET,EAEA,KAAAuB,uBAAyB,SAACH,GACxB,EAAKI,kBAAoBJ,EAAMK,eAAe,GAAGC,OACnD,EAEA,KAAAC,qBAAuB,SAACP,GACtB,IAAMQ,EAAuBR,EAAMK,eAAe,GAAGC,QACjDE,EAAuB,EAAKJ,kBAAoB,GAClD,EAAKF,mBAAmB,QACfM,EAAuB,GAAK,EAAKJ,mBAC1C,EAAKF,mBAAmB,OAE5B,EAvaEO,KAAK9B,gBAAkBA,EACvB8B,KAAKC,QAAS,EACdD,KAAKE,cAAgBC,MAAMC,KACzBJ,KAAK9B,gBAAgBmC,iBAAiB,WAlChB,oBAoCxBL,KAAKM,aAAe,EACpBN,KAAKL,kBAAoB,CAC3B,CAiaF,OA/ZE,YAAAY,KAAA,sBACE,IAAKP,KAAKC,OAAQ,CAChBD,KAAKC,QAAS,EACd,IAAK,IAAIO,EAAI,EAAGA,EAAIR,KAAKE,cAAcO,OAAQD,IAC7CR,KAAKE,cAAcM,GAAGE,iBAAiB,SAAS,SAACnB,GAC/C,IAAMoB,EAAYpB,EAAMqB,cACxB,EAAKN,aAAe,EAAKJ,cAAcW,QAAQF,GAC/C,EAAKG,sBACL,EAAKC,QAAO,EACd,GAEJ,CACF,EAEA,YAAAA,OAAA,SAAOC,G,aAAA,IAAAA,IAAAA,GAAA,GACL,IAAMC,EAAgB5C,SAASC,cAC7B,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQC,EAAwB,QAE7EwD,EAAiB7C,SAASC,cAC9B,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQE,EAAmB,QAExEwD,EAAkB9C,SAASC,cAC/B,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQG,EAAoB,QAEzEwD,EAAapB,KAAKE,cAAcF,KAAKM,cAC3C,GAAIW,GAAiBG,EAAWC,SAAWD,EAAWC,QAAQC,IAAK,CACjE,IAAM,EAAyBL,EAAcM,MACvC,EAA0BN,EAAcO,OAC9CP,EAAcpC,MAAM0C,MAAQ,OAC5BN,EAAcpC,MAAM2C,OAAS,OAC7BP,EAActC,UAAUU,OAAO,UAAG3B,EAAwB,WAC1DwD,EAAevC,UAAUU,OAAO9B,GAChC,IAQI,EACA,EATA,GAAwB,EACxB4D,EAAgBxC,UAAUI,SAAS,UAAGnB,EAAoB,aAC5D,GAAwB,EACxBuD,EAAgBxC,UAAUU,OAAO,UAAGzB,EAAoB,YAE1DuD,EAAgBM,UAAY,GAC5BR,EAAcpC,MAAMC,QAAU,IAC9BmC,EAAcK,IAAMF,EAAWC,QAAQC,IAGvC,IAAI,EAAoBL,EAAcS,SAClC,IACF,EAAgD,QAA3B,EAAAT,EAAc1C,qBAAa,eAAEoD,YAClD,EAAiD,QAA3B,EAAAV,EAAc1C,qBAAa,eAAEqD,aAC9CZ,IACHC,EAAcpC,MAAM0C,MAAQ,UAAG,EAAsB,MACrDN,EAAcpC,MAAM2C,OAAS,UAAG,EAAuB,QAG3DP,EAAcY,OAAS,W,QAChB,IACH,EAAgD,QAA3B,EAAAZ,EAAc1C,qBAAa,eAAEoD,YAClD,EAAiD,QAA3B,EAAAV,EAAc1C,qBAAa,eAAEqD,aAC9CZ,IACHC,EAAcpC,MAAM0C,MAAQ,UAAG,EAAsB,MACrDN,EAAcpC,MAAM2C,OAAS,UAAG,EAAuB,QAG3D,IAAMM,EAAY5C,YAAW,WAC3B+B,EAAcpC,MAAM0C,MAAQ,UAAG,EAAkB,MACjDN,EAAcpC,MAAM2C,OAAS,UAAG,EAAmB,MACnDlC,aAAawC,EACf,GAAG,KACGC,EAAkB7C,YAAW,WAC7BkC,EAAWC,QAAQW,SACrBb,EAAgBM,UACdL,EAAWC,QAAQW,QAAQvB,OAAS,IAChCW,EAAWC,QAAQW,QAAQC,MAAM,EAAG,IAAM,MAC1Cb,EAAWC,QAAQW,QACrB,GACFb,EAAgBxC,UAAUC,IAAI,UAAGhB,EAAoB,YAIrDuD,EAAgBxC,UAAUI,SACxB,UAAGnB,EAAoB,YAGzBuD,EAAgBxC,UAAUU,OAAO,UAAGzB,EAAoB,WAG5DsD,EAAevC,UAAUC,IAAIrB,GAC7B0D,EAActC,UAAUC,IAAI,UAAGlB,EAAwB,WACvDuD,EAAcpC,MAAMC,QAAU,IAC9BmC,EAAcpC,MAAM0C,MAAQ,OAC5BN,EAAcpC,MAAM2C,OAAS,OAC7BlC,aAAayC,EACf,GAAG,IACL,CACF,MACEd,EAAcK,IAAM,GACpBH,EAAgBM,UAAY,GAG5BR,GACAG,EAAWC,SACXD,EAAWC,QAAQC,KACnBF,EAAWC,QAAQa,IAEnBjB,EAAciB,IAAMd,EAAWC,QAAQa,IAEvCjB,EAAciB,IAAM,GAEtB,IAAMC,EAAkB9D,SAASC,cAC/B,WAAId,EAAkB,gBAAQK,EAAoB,QAEhDsE,IACFA,EAAgBV,UAAY,UAAGzB,KAAKM,aAAe,EAAC,cAClDN,KAAKE,cAAcO,SAGvB,IAAM2B,EAAoB/D,SAASC,cACjC,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQK,EAAsB,QAG/EsE,GACqB,GAArBpC,KAAKM,eACJ8B,EAAkBzD,UAAUI,SAASxB,GAEtC6E,EAAkBzD,UAAUC,IAAIrB,GAEhC6E,GACAA,EAAkBzD,UAAUI,SAASxB,IAErC6E,EAAkBzD,UAAUU,OAAO9B,GAErC,IAAM8E,EAAqBhE,SAASC,cAClC,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQM,EAAuB,QAGhFsE,GACArC,KAAKM,cAAgBN,KAAKE,cAAcO,OAAS,IAChD4B,EAAmB1D,UAAUI,SAASxB,GAEvC8E,EAAmB1D,UAAUC,IAAIrB,GAEjC8E,GACAA,EAAmB1D,UAAUI,SAASxB,IAEtC8E,EAAmB1D,UAAUU,OAAO9B,EAExC,EAEA,YAAAuD,oBAAA,sBACQwB,EAAmBjE,SAASkE,cAAc,OAChDD,EAAiB3D,UAAUC,IACzBpB,EACA,UAAGA,EAAkB,OACrB,UAAGA,EAAkB,UAEvB,IAAMgF,EAAiBnE,SAASkE,cAAc,OAC9CC,EAAe7D,UAAUC,IACvBZ,EACA,UAAGA,EAAmB,OACtB,UAAGA,EAAmB,UAExBsE,EAAiBG,YAAYD,GAC7B,IAAME,EAAiBrE,SAASkE,cAAc,OAC9CG,EAAe/D,UAAUC,IACvBnB,EACA,UAAGA,EAAmB,OACtB,UAAGA,EAAmB,UAExB,IAAMyD,EAAiB7C,SAASkE,cAAc,OAC9CrB,EAAevC,UAAUC,IACvBjB,EACA,UAAGA,EAAmB,QAExB+E,EAAeD,YAAYvB,GAC3B,IAAMD,EAAgB5C,SAASkE,cAAc,OAQ7C,GAPAtB,EAActC,UAAUC,IACtBlB,EACA,UAAGA,EAAwB,QAE7BuD,EAAcK,IAAM,GACpBL,EAAciB,IAAM,GACpBQ,EAAeD,YAAYxB,GACvBjB,KAAKE,cAAcO,OAAS,EAAG,CACjC,IAAM0B,EAAkB9D,SAASkE,cAAc,OAC/CJ,EAAgBxD,UAAUC,IACxBf,EACA,UAAGA,EAAoB,OACvB,UAAGA,EAAoB,UAEzByE,EAAiBG,YAAYN,GAC7B,IAAMC,EAAoB/D,SAASkE,cAAc,OACjDH,EAAkBzD,UAAUC,IAC1Bd,EACA,UAAGA,EAAsB,QAE3B4E,EAAeD,YAAYL,GAC3B,IAAMC,EAAqBhE,SAASkE,cAAc,OAClDF,EAAmB1D,UAAUC,IAC3Bb,EACA,UAAGA,EAAuB,QAE5B2E,EAAeD,YAAYJ,EAC7B,CACA,IAAMM,EAAuBtE,SAASkE,cAAc,OACpDI,EAAqBhE,UAAUC,IAC7BhB,EACA,UAAGA,EAAoB,QAEzB8E,EAAeD,YAAYE,GAC3BL,EAAiBG,YAAYC,GAC7BrE,SAASe,KAAKT,UAAUC,IAAIX,GAC5BI,SAASe,KAAKqD,YAAYH,GAC1B,IAAMM,EAAiB1D,YAAW,WAChC,IAAM2D,EAAoBxE,SAASC,cACjC,WAAId,EAAkB,eAAOA,EAAkB,UAEjDqF,SAAAA,EAAmBlE,UAAUU,OAAO,UAAG7B,EAAkB,UACzD8B,aAAasD,EACf,GAAG,KAEGb,EAAkB7C,YAAW,WACjC,IAAM4D,EAAqBzE,SAASC,cAClC,WAAId,EAAkB,gBAAQC,EAAmB,eAAOA,EAAmB,UAEvEsF,EAAqB1E,SAASC,cAClC,WAAId,EAAkB,gBAAQQ,EAAmB,eAAOA,EAAmB,UAEvEgF,EAAsB3E,SAASC,cACnC,WAAId,EAAkB,gBAAQK,EAAoB,eAAOA,EAAoB,UAE/EiF,SAAAA,EAAoBnE,UAAUU,OAAO,UAAG5B,EAAmB,UAC3DsF,SAAAA,EAAoBpE,UAAUU,OAAO,UAAGrB,EAAmB,UAC3DgF,SAAAA,EAAqBrE,UAAUU,OAAO,UAAGxB,EAAoB,UAC7DyB,aAAayC,EACf,GAAG,KAEGkB,EAA4B5E,SAASC,cACzC,WAAId,EAAkB,gBAAQQ,EAAmB,QAE/CiF,GACFA,EAA0BvC,iBAAiB,SAAS,WAClD,EAAKvC,sBACP,IAGF,IAAM+E,EAA2B7E,SAASC,cACxC,WAAId,EAAkB,QAEpB0F,GACFA,EAAyBxC,iBAAiB,SAAS,SAACyC,GAC9CA,EAAEvC,eAAiBuC,EAAEC,QACvB,EAAKjF,sBAET,IAGF,IAAMkF,EAA+BhF,SAASC,cAC5C,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQK,EAAsB,QAE7EuF,GACFA,EAA6B3C,iBAAiB,SAAS,WACjD4C,OAAOC,WAAa,KACtB,EAAK9D,mBAAmB,OAE5B,IAGF,IAAM+D,EAAgCnF,SAASC,cAC7C,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQM,EAAuB,QAE9EyF,GACFA,EAA8B9C,iBAAiB,SAAS,WAClD4C,OAAOC,WAAa,KACtB,EAAK9D,mBAAmB,OAE5B,IAGFpB,SAASqC,iBAAiB,UAAWV,KAAKf,iBAE1C,IAAMwE,EAA4BpF,SAASC,cACzC,WAAId,EAAkB,gBAAQC,EAAmB,QAEnDgG,EAA0B/C,iBACxB,aACAV,KAAKN,wBAEP+D,EAA0B/C,iBACxB,WACAV,KAAKF,sBAGP,IAAM4D,EAA2BrF,SAASC,cACxC,WAAId,EAAkB,gBAAQC,EAAmB,gBAAQC,EAAwB,QAEnFgG,EAAyBhD,iBAAiB,SAAS,SAACyC,G,MAClD,GAAIA,EAAEvC,eAAiBuC,EAAEC,QAAUE,OAAOC,WAAa,IAAK,CAC1D,IACMI,EAC0B,QAA9B,EAFuBR,EAAEvC,cAERrC,qBAAa,eAAED,cAC9B,WAAIV,EAAoB,QAExB+F,GAAwBA,EAAmBlC,YAE3CkC,EAAmBhF,UAAUI,SAC3B,UAAGnB,EAAoB,WAGzB+F,EAAmBhF,UAAUU,OAC3B,UAAGzB,EAAoB,WAGzB+F,EAAmBhF,UAAUC,IAAI,UAAGhB,EAAoB,WAG9D,CACF,IACA8F,EAAyBhD,iBAAiB,aAAa,SAACyC,G,MAEhDQ,EAAmD,QAA9B,EADFR,EAAEvC,cACiBrC,qBAAa,eAAED,cACzD,WAAIV,EAAoB,QAGxB0F,OAAOC,WAAa,KACpBI,GACEA,EAAmBlC,YACpBkC,EAAmBhF,UAAUI,SAAS,UAAGnB,EAAoB,YAE9D+F,EAAmBhF,UAAUC,IAAI,UAAGhB,EAAoB,UAE5D,IACA8F,EAAyBhD,iBAAiB,cAAc,SAACyC,G,MAEjDQ,EAAmD,QAA9B,EADFR,EAAEvC,cACiBrC,qBAAa,eAAED,cACzD,WAAIV,EAAoB,QAGxB0F,OAAOC,WAAa,KACpBI,GACAA,EAAmBhF,UAAUI,SAAS,UAAGnB,EAAoB,YAE7D+F,EAAmBhF,UAAUU,OAAO,UAAGzB,EAAoB,UAE/D,GACF,EAEA,YAAA6B,mBAAA,SAAmBmE,GACA,SAAbA,GAAuB5D,KAAKM,aAAe,GAC7CN,KAAKM,aAAeN,KAAKM,aAAe,EACxCN,KAAKe,UAEQ,SAAb6C,GACA5D,KAAKM,aAAeN,KAAKE,cAAcO,OAAS,IAEhDT,KAAKM,aAAeN,KAAKM,aAAe,EACxCN,KAAKe,SAET,EA6DF,EAhbA,GAkbM8C,EACJxF,SAASgC,iBAAiB,WA3cG,uBA6czByD,EAAuC,GAEpCtD,EAAI,EAAGA,EAAIqD,EAAsBpD,OAAQD,IAChDsD,EAAkBC,KAAK,IAAIC,EAAgBH,EAAsBrD,KACjEsD,EAAkBA,EAAkBrD,OAAS,GAAGF,M","sources":["webpack://lightbox/./src/lightbox.ts"],"sourcesContent":["const lightboxHiddenClass = \"lightbox-hidden\";\nconst lightboxContainerClass = \"lightbox-container\";\nconst lightboxImagesClass = \"lightbox-image\";\nconst lightboxModalClass = \"lightbox-viewer-modal\";\nconst lightboxViewerClass = \"lightbox-viewer\";\nconst lightboxViewerImageClass = \"lightbox-viewer-image\";\nconst lightboxLoaderClass = \"lightbox-loader\";\nconst lightboxCaptionClass = \"lightbox-caption\";\nconst lightboxCounterClass = \"lightbox-counter\";\nconst lightboxLeftArrowClass = \"lightbox-left-arrow\";\nconst lightboxRightArrowClass = \"lightbox-right-arrow\";\nconst lightboxCloserClass = \"lightbox-closer\";\nconst lightboxStopScrollClass = \"lightbox-stop-scroll\";\n\ninterface Lightbox {\n  init: () => void;\n  reload: (a: boolean) => void;\n  addLightboxTemplate: () => void;\n  changeCurrentImage: (a: \"prev\" | \"next\") => void;\n  closeLightboxHandler: () => void;\n  keyEventHandler: (e: KeyboardEvent) => void;\n  touchStartEventHandler: (e: TouchEvent) => void;\n  touchEndEventHandler: (e: TouchEvent) => void;\n}\n\nclass LightboxGallery implements Lightbox {\n  private gallerySelector;\n  private isInit: boolean;\n  private galleryImages: HTMLElement[];\n  private currentImage: number;\n  private touchCoordinatesX: number;\n\n  constructor(gallerySelector: HTMLElement) {\n    this.gallerySelector = gallerySelector;\n    this.isInit = false;\n    this.galleryImages = Array.from(\n      this.gallerySelector.querySelectorAll(`.${lightboxImagesClass}`)\n    );\n    this.currentImage = 0;\n    this.touchCoordinatesX = 0;\n  }\n\n  init() {\n    if (!this.isInit) {\n      this.isInit = true;\n      for (let i = 0; i < this.galleryImages.length; i++) {\n        this.galleryImages[i].addEventListener(\"click\", (event: MouseEvent) => {\n          const openImage = event.currentTarget as HTMLElement;\n          this.currentImage = this.galleryImages.indexOf(openImage);\n          this.addLightboxTemplate();\n          this.reload(true);\n        });\n      }\n    }\n  }\n\n  reload(isFirstReload = false) {\n    const lightboxImage = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxViewerImageClass}-js`\n    ) as HTMLImageElement;\n    const lightboxLoader = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxLoaderClass}-js`\n    ) as HTMLDivElement;\n    const lightboxCaption = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxCaptionClass}-js`\n    ) as HTMLDivElement;\n    const currentImg = this.galleryImages[this.currentImage];\n    if (lightboxImage && currentImg.dataset && currentImg.dataset.src) {\n      const prevLightboxImageWidth = lightboxImage.width;\n      const prevLightboxImageHeight = lightboxImage.height;\n      lightboxImage.style.width = \"auto\";\n      lightboxImage.style.height = \"auto\";\n      lightboxImage.classList.remove(`${lightboxViewerImageClass}--show`);\n      lightboxLoader.classList.remove(lightboxHiddenClass);\n      let isPrevLightboxCaption = false;\n      if (lightboxCaption.classList.contains(`${lightboxCaptionClass}--show`)) {\n        isPrevLightboxCaption = true;\n        lightboxCaption.classList.remove(`${lightboxCaptionClass}--show`);\n      }\n      lightboxCaption.innerText = \"\";\n      lightboxImage.style.opacity = \"0\";\n      lightboxImage.src = currentImg.dataset.src;\n      let parentElementWidth: number | undefined;\n      let parentElementHeight: number | undefined;\n      let isLoadingComplete = lightboxImage.complete;\n      if (isLoadingComplete) {\n        parentElementWidth = lightboxImage.parentElement?.offsetWidth;\n        parentElementHeight = lightboxImage.parentElement?.offsetHeight;\n        if (!isFirstReload) {\n          lightboxImage.style.width = `${prevLightboxImageWidth}px`;\n          lightboxImage.style.height = `${prevLightboxImageHeight}px`;\n        }\n      }\n      lightboxImage.onload = () => {\n        if (!isLoadingComplete) {\n          parentElementWidth = lightboxImage.parentElement?.offsetWidth;\n          parentElementHeight = lightboxImage.parentElement?.offsetHeight;\n          if (!isFirstReload) {\n            lightboxImage.style.width = `${prevLightboxImageWidth}px`;\n            lightboxImage.style.height = `${prevLightboxImageHeight}px`;\n          }\n        }\n        const timeoutId = setTimeout(() => {\n          lightboxImage.style.width = `${parentElementWidth}px`;\n          lightboxImage.style.height = `${parentElementHeight}px`;\n          clearTimeout(timeoutId);\n        }, 100);\n        const secondTimeoutId = setTimeout(() => {\n          if (currentImg.dataset.caption) {\n            lightboxCaption.innerText =\n              currentImg.dataset.caption.length > 100\n                ? currentImg.dataset.caption.slice(0, 99) + \"...\"\n                : currentImg.dataset.caption;\n            if (isPrevLightboxCaption) {\n              lightboxCaption.classList.add(`${lightboxCaptionClass}--show`);\n            }\n          } else {\n            if (\n              lightboxCaption.classList.contains(\n                `${lightboxCaptionClass}--show`\n              )\n            ) {\n              lightboxCaption.classList.remove(`${lightboxCaptionClass}--show`);\n            }\n          }\n          lightboxLoader.classList.add(lightboxHiddenClass);\n          lightboxImage.classList.add(`${lightboxViewerImageClass}--show`);\n          lightboxImage.style.opacity = \"1\";\n          lightboxImage.style.width = \"auto\";\n          lightboxImage.style.height = \"auto\";\n          clearTimeout(secondTimeoutId);\n        }, 500);\n      };\n    } else {\n      lightboxImage.src = \"\";\n      lightboxCaption.innerText = \"\";\n    }\n    if (\n      lightboxImage &&\n      currentImg.dataset &&\n      currentImg.dataset.src &&\n      currentImg.dataset.alt\n    ) {\n      lightboxImage.alt = currentImg.dataset.alt;\n    } else {\n      lightboxImage.alt = \"\";\n    }\n    const lightboxCounter = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxCounterClass}-js`\n    ) as HTMLElement;\n    if (lightboxCounter) {\n      lightboxCounter.innerText = `${this.currentImage + 1} / ${\n        this.galleryImages.length\n      }`;\n    }\n    const lightboxLeftArrow = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxLeftArrowClass}-js`\n    ) as HTMLElement;\n    if (\n      lightboxLeftArrow &&\n      this.currentImage == 0 &&\n      !lightboxLeftArrow.classList.contains(lightboxHiddenClass)\n    ) {\n      lightboxLeftArrow.classList.add(lightboxHiddenClass);\n    } else if (\n      lightboxLeftArrow &&\n      lightboxLeftArrow.classList.contains(lightboxHiddenClass)\n    ) {\n      lightboxLeftArrow.classList.remove(lightboxHiddenClass);\n    }\n    const lightboxRightArrow = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxRightArrowClass}-js`\n    ) as HTMLElement;\n    if (\n      lightboxRightArrow &&\n      this.currentImage == this.galleryImages.length - 1 &&\n      !lightboxRightArrow.classList.contains(lightboxHiddenClass)\n    ) {\n      lightboxRightArrow.classList.add(lightboxHiddenClass);\n    } else if (\n      lightboxRightArrow &&\n      lightboxRightArrow.classList.contains(lightboxHiddenClass)\n    ) {\n      lightboxRightArrow.classList.remove(lightboxHiddenClass);\n    }\n  }\n\n  addLightboxTemplate() {\n    const lightboxTemplate = document.createElement(\"div\");\n    lightboxTemplate.classList.add(\n      lightboxModalClass,\n      `${lightboxModalClass}-js`,\n      `${lightboxModalClass}-hide`\n    );\n    const lightboxCloser = document.createElement(\"div\");\n    lightboxCloser.classList.add(\n      lightboxCloserClass,\n      `${lightboxCloserClass}-js`,\n      `${lightboxCloserClass}-hide`\n    );\n    lightboxTemplate.appendChild(lightboxCloser);\n    const lightboxViewer = document.createElement(\"div\");\n    lightboxViewer.classList.add(\n      lightboxViewerClass,\n      `${lightboxViewerClass}-js`,\n      `${lightboxViewerClass}-hide`\n    );\n    const lightboxLoader = document.createElement(\"div\");\n    lightboxLoader.classList.add(\n      lightboxLoaderClass,\n      `${lightboxLoaderClass}-js`\n    );\n    lightboxViewer.appendChild(lightboxLoader);\n    const lightboxImage = document.createElement(\"img\");\n    lightboxImage.classList.add(\n      lightboxViewerImageClass,\n      `${lightboxViewerImageClass}-js`\n    );\n    lightboxImage.src = \"\";\n    lightboxImage.alt = \"\";\n    lightboxViewer.appendChild(lightboxImage);\n    if (this.galleryImages.length > 1) {\n      const lightboxCounter = document.createElement(\"div\");\n      lightboxCounter.classList.add(\n        lightboxCounterClass,\n        `${lightboxCounterClass}-js`,\n        `${lightboxCounterClass}-hide`\n      );\n      lightboxTemplate.appendChild(lightboxCounter);\n      const lightboxLeftArrow = document.createElement(\"div\");\n      lightboxLeftArrow.classList.add(\n        lightboxLeftArrowClass,\n        `${lightboxLeftArrowClass}-js`\n      );\n      lightboxViewer.appendChild(lightboxLeftArrow);\n      const lightboxRightArrow = document.createElement(\"div\");\n      lightboxRightArrow.classList.add(\n        lightboxRightArrowClass,\n        `${lightboxRightArrowClass}-js`\n      );\n      lightboxViewer.appendChild(lightboxRightArrow);\n    }\n    const lightboxImageCaption = document.createElement(\"div\");\n    lightboxImageCaption.classList.add(\n      lightboxCaptionClass,\n      `${lightboxCaptionClass}-js`\n    );\n    lightboxViewer.appendChild(lightboxImageCaption);\n    lightboxTemplate.appendChild(lightboxViewer);\n    document.body.classList.add(lightboxStopScrollClass);\n    document.body.appendChild(lightboxTemplate);\n    const firstTimeoutId = setTimeout(() => {\n      const lightboxModalNode = document.querySelector(\n        `.${lightboxModalClass}-js.${lightboxModalClass}-hide`\n      );\n      lightboxModalNode?.classList.remove(`${lightboxModalClass}-hide`);\n      clearTimeout(firstTimeoutId);\n    }, 100);\n\n    const secondTimeoutId = setTimeout(() => {\n      const lightboxVieverNode = document.querySelector(\n        `.${lightboxModalClass}-js .${lightboxViewerClass}-js.${lightboxViewerClass}-hide`\n      );\n      const lightboxCloserNode = document.querySelector(\n        `.${lightboxModalClass}-js .${lightboxCloserClass}-js.${lightboxCloserClass}-hide`\n      );\n      const lightboxCounterNode = document.querySelector(\n        `.${lightboxModalClass}-js .${lightboxCounterClass}-js.${lightboxCounterClass}-hide`\n      );\n      lightboxVieverNode?.classList.remove(`${lightboxViewerClass}-hide`);\n      lightboxCloserNode?.classList.remove(`${lightboxCloserClass}-hide`);\n      lightboxCounterNode?.classList.remove(`${lightboxCounterClass}-hide`);\n      clearTimeout(secondTimeoutId);\n    }, 300);\n\n    const lightboxCloserNodeElement = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxCloserClass}-js`\n    ) as HTMLElement | null;\n    if (lightboxCloserNodeElement) {\n      lightboxCloserNodeElement.addEventListener(\"click\", () => {\n        this.closeLightboxHandler();\n      });\n    }\n\n    const lightboxModalNodeElement = document.querySelector(\n      `.${lightboxModalClass}-js`\n    ) as HTMLElement | null;\n    if (lightboxModalNodeElement) {\n      lightboxModalNodeElement.addEventListener(\"click\", (e: MouseEvent) => {\n        if (e.currentTarget == e.target) {\n          this.closeLightboxHandler();\n        }\n      });\n    }\n\n    const lightboxLeftArrowNodeElement = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxLeftArrowClass}-js`\n    ) as HTMLElement;\n    if (lightboxLeftArrowNodeElement) {\n      lightboxLeftArrowNodeElement.addEventListener(\"click\", () => {\n        if (window.innerWidth > 768) {\n          this.changeCurrentImage(\"prev\");\n        }\n      });\n    }\n\n    const lightboxRightArrowNodeElement = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxRightArrowClass}-js`\n    ) as HTMLElement;\n    if (lightboxRightArrowNodeElement) {\n      lightboxRightArrowNodeElement.addEventListener(\"click\", () => {\n        if (window.innerWidth > 768) {\n          this.changeCurrentImage(\"next\");\n        }\n      });\n    }\n\n    document.addEventListener(\"keydown\", this.keyEventHandler);\n\n    const lightboxViewerNodeElement = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js`\n    ) as HTMLElement;\n    lightboxViewerNodeElement.addEventListener(\n      \"touchstart\",\n      this.touchStartEventHandler\n    );\n    lightboxViewerNodeElement.addEventListener(\n      \"touchend\",\n      this.touchEndEventHandler\n    );\n\n    const lightboxImageNodeElement = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxViewerClass}-js .${lightboxViewerImageClass}-js`\n    ) as HTMLImageElement;\n    lightboxImageNodeElement.addEventListener(\"click\", (e: MouseEvent) => {\n      if (e.currentTarget == e.target && window.innerWidth < 769) {\n        const imageNodeElement = e.currentTarget as HTMLImageElement;\n        const captionNodeElement =\n          imageNodeElement.parentElement?.querySelector(\n            `.${lightboxCaptionClass}-js`\n          ) as HTMLDivElement | null | undefined;\n        if (captionNodeElement && !!captionNodeElement.innerText) {\n          if (\n            captionNodeElement.classList.contains(\n              `${lightboxCaptionClass}--show`\n            )\n          ) {\n            captionNodeElement.classList.remove(\n              `${lightboxCaptionClass}--show`\n            );\n          } else {\n            captionNodeElement.classList.add(`${lightboxCaptionClass}--show`);\n          }\n        }\n      }\n    });\n    lightboxImageNodeElement.addEventListener(\"mousemove\", (e: MouseEvent) => {\n      const imageNodeElement = e.currentTarget as HTMLImageElement;\n      const captionNodeElement = imageNodeElement.parentElement?.querySelector(\n        `.${lightboxCaptionClass}-js`\n      ) as HTMLDivElement | null | undefined;\n      if (\n        window.innerWidth > 768 &&\n        captionNodeElement &&\n        !!captionNodeElement.innerText &&\n        !captionNodeElement.classList.contains(`${lightboxCaptionClass}--show`)\n      ) {\n        captionNodeElement.classList.add(`${lightboxCaptionClass}--show`);\n      }\n    });\n    lightboxImageNodeElement.addEventListener(\"mouseleave\", (e: MouseEvent) => {\n      const imageNodeElement = e.currentTarget as HTMLImageElement;\n      const captionNodeElement = imageNodeElement.parentElement?.querySelector(\n        `.${lightboxCaptionClass}-js`\n      );\n      if (\n        window.innerWidth > 768 &&\n        captionNodeElement &&\n        captionNodeElement.classList.contains(`${lightboxCaptionClass}--show`)\n      ) {\n        captionNodeElement.classList.remove(`${lightboxCaptionClass}--show`);\n      }\n    });\n  }\n\n  changeCurrentImage(sequence: \"prev\" | \"next\") {\n    if (sequence === \"prev\" && this.currentImage > 0) {\n      this.currentImage = this.currentImage - 1;\n      this.reload();\n    } else if (\n      sequence === \"next\" &&\n      this.currentImage < this.galleryImages.length - 1\n    ) {\n      this.currentImage = this.currentImage + 1;\n      this.reload();\n    }\n  }\n\n  closeLightboxHandler = () => {\n    const lightboxCloserElement = document.querySelector(\n      `.${lightboxModalClass}-js .${lightboxCloserClass}-js`\n    ) as HTMLElement;\n    if (lightboxCloserElement) {\n      const lightboxModalElement = lightboxCloserElement.parentElement;\n      const ligthboxViewerElement = lightboxModalElement?.querySelector(\n        `.${lightboxViewerClass}-js`\n      ) as HTMLElement;\n      const ligthboxCounterElement = lightboxModalElement?.querySelector(\n        `.${lightboxCounterClass}-js`\n      );\n      const lightboxImageElement = ligthboxViewerElement?.querySelector(\n        `.${lightboxViewerImageClass}-js`\n      ) as HTMLImageElement;\n      lightboxCloserElement.classList.add(`${lightboxCloserClass}-hide`);\n      ligthboxViewerElement?.classList.add(`${lightboxViewerClass}-hide`);\n      if (lightboxImageElement) {\n        lightboxImageElement.style.opacity = \"0\";\n      }\n      if (\n        ligthboxCounterElement &&\n        !ligthboxCounterElement.classList.contains(\n          `${lightboxCounterClass}-hide`\n        )\n      ) {\n        ligthboxCounterElement.classList.add(`${lightboxCounterClass}-hide`);\n      }\n      document.removeEventListener(\"keydown\", this.keyEventHandler);\n      const closerTimeoutId = setTimeout(() => {\n        lightboxModalElement?.parentElement?.removeChild(lightboxModalElement);\n        document.body.classList.remove(lightboxStopScrollClass);\n        clearTimeout(closerTimeoutId);\n      }, 700);\n    }\n  };\n\n  keyEventHandler = (event: KeyboardEvent) => {\n    if (event.key === \"ArrowLeft\") {\n      this.changeCurrentImage(\"prev\");\n    } else if (event.key === \"ArrowRight\") {\n      this.changeCurrentImage(\"next\");\n    } else if (event.key === \"Escape\") {\n      this.closeLightboxHandler();\n    }\n  };\n\n  touchStartEventHandler = (event: TouchEvent) => {\n    this.touchCoordinatesX = event.changedTouches[0].clientX;\n  };\n\n  touchEndEventHandler = (event: TouchEvent) => {\n    const touchEndCoordinatesX = event.changedTouches[0].clientX;\n    if (touchEndCoordinatesX > this.touchCoordinatesX + 30) {\n      this.changeCurrentImage(\"prev\");\n    } else if (touchEndCoordinatesX + 30 < this.touchCoordinatesX) {\n      this.changeCurrentImage(\"next\");\n    }\n  };\n}\n\nconst nodeGalleryContainers: NodeListOf<HTMLElement> =\n  document.querySelectorAll(`.${lightboxContainerClass}`);\n\nconst galleryContainers: LightboxGallery[] = [];\n\nfor (let i = 0; i < nodeGalleryContainers.length; i++) {\n  galleryContainers.push(new LightboxGallery(nodeGalleryContainers[i]));\n  galleryContainers[galleryContainers.length - 1].init();\n}\n"],"names":["lightboxHiddenClass","lightboxModalClass","lightboxViewerClass","lightboxViewerImageClass","lightboxLoaderClass","lightboxCaptionClass","lightboxCounterClass","lightboxLeftArrowClass","lightboxRightArrowClass","lightboxCloserClass","lightboxStopScrollClass","gallerySelector","closeLightboxHandler","lightboxCloserElement","document","querySelector","parentElement","ligthboxViewerElement","ligthboxCounterElement","lightboxImageElement","classList","add","style","opacity","contains","removeEventListener","keyEventHandler","setTimeout","removeChild","body","remove","clearTimeout","event","key","changeCurrentImage","touchStartEventHandler","touchCoordinatesX","changedTouches","clientX","touchEndEventHandler","touchEndCoordinatesX","this","isInit","galleryImages","Array","from","querySelectorAll","currentImage","init","i","length","addEventListener","openImage","currentTarget","indexOf","addLightboxTemplate","reload","isFirstReload","lightboxImage","lightboxLoader","lightboxCaption","currentImg","dataset","src","width","height","innerText","complete","offsetWidth","offsetHeight","onload","timeoutId","secondTimeoutId","caption","slice","alt","lightboxCounter","lightboxLeftArrow","lightboxRightArrow","lightboxTemplate","createElement","lightboxCloser","appendChild","lightboxViewer","lightboxImageCaption","firstTimeoutId","lightboxModalNode","lightboxVieverNode","lightboxCloserNode","lightboxCounterNode","lightboxCloserNodeElement","lightboxModalNodeElement","e","target","lightboxLeftArrowNodeElement","window","innerWidth","lightboxRightArrowNodeElement","lightboxViewerNodeElement","lightboxImageNodeElement","captionNodeElement","sequence","nodeGalleryContainers","galleryContainers","push","LightboxGallery"],"sourceRoot":""}